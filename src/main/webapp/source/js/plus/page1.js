"use strict";seajs.use(["bootstrap","$","underscore","../WEB-INF/assets/dev/js/plus/loading"],function(a,b,c){b(".j-sel2").select2({formatNoMatches:"没有找到相关信息",formatSearching:"正在加载数据",formatLoadMore:"正在加载更多数据",formatAjaxError:"加载数据失败",minimumInputLength:1,ajax:{url:"https://api.github.com/search/repositories",dataType:"json",quietMillis:250,data:function(a,c){return a=b.trim(a),a=""===a?"default":a,{type:b(this).data("type"),q:a,page:c}},results:function(a,b){var c=10*b<a.total_count;return{results:a.items,more:c}},cache:!0},formatResult:function(a){return a.full_name},formatSelection:function(a){return a.full_name}}).on("change",function(a){console.log(a.val)}).on("select2-open",function(){b(this).select2("search"," ")}),b("#j-searchbtn").click(function(){var a=b("#j-searchinput").val();console.log("搜索",a)}),b("#j-table").dataTable({processing:!0,sPaginationType:"full_numbers",sDom:'rt<"clearfix datatablefoot"<"pull-left"l><"pull-left"i><"pull-right"p>>',aLengthMenu:[[10,20,30,50],[10,20,30,50]],oLanguage:{sLengthMenu:"每页显示 _MENU_ 条记录",sZeroRecords:"抱歉， 没有找到",sInfo:"&nbsp;&nbsp;&nbsp;共 _TOTAL_ 条数据",sInfoEmpty:"没有数据",sInfoFiltered:"(从 _MAX_ 条数据中检索)",oPaginate:{sFirst:"首页",sPrevious:"前一页",sNext:"后一页",sLast:"尾页"}},sAjaxSource:"tabledatasource.json",aoColumns:[{bSortable:!1,render:function(a,d,e){return c.template(b("#j-checkBox-tmpl").html(),{data:e})}},{bSortable:!0,render:function(a,d,e){return c.template(b("#j-id-tmpl").html(),{data:e})}},{bSortable:!0,render:function(a,d,e){return c.template(b("#j-plan-tmpl").html(),{data:e})}},{bSortable:!0,sClass:"dropdown text-right",render:function(a,d,e){return c.template(b("#j-status-tmpl").html(),{data:e})}},{bSortable:!0,render:function(a){return a+"个订单"}},{bSortable:!0},{bSortable:!0},{bSortable:!0},{bSortable:!0},{bSortable:!0},{bSortable:!0}]});var d={format:"YYYY/MM/DD",separator:"~",minDate:"2012/01/01",showDropdowns:!0,dropdownAdjusts:!0,applyClass:"btn btn-small btn-success",opens:"left",locale:{applyLabel:"筛选",clearLabel:"重置",cancelLabel:"重置",fromLabel:"开始时间",toLabel:"结束时间",customRangeLabel:"Custom Range",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],firstDay:1}};b("#j-time").daterangepicker(d).on("apply.daterangepicker",function(a,b){console.log(b.startDate.format("YYYY-MM-DD")),console.log(b.endDate.format("YYYY-MM-DD"))}).on("cancel.daterangepicker",function(){b(this).val("")}),b("#j-page-range").change(function(){console.log(b(this).val())}),b("#j-export").click(function(){console.log("导出数据")});var e=b("#j-more-option-item");b("#j-more-option").toggle(function(){b(this).text("收起"),e.css("display","inline")},function(){b(this).text("更多"),e.css("display","none")}),window.showModal=function(a){var d=b("#j-modal-tmpl").html(),e=(new Date).getTime(),f="j-dom"+e,g="j-confirm"+e,h={domId:f,title:"这是大模态窗口",content:"刚刚传进来的参数是"+a,cancelText:"取消",confirmText:"确定",confirmId:g};b("body").append(c.template(d,h));var i=b("#"+f);i.find("#"+g).click(function(){console.log("you click the confirm btn."),i.modal("hide")}),i.modal("show").on("hidden.bs.modal",function(){i.remove()})}});